<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouTube 動画検索</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    .container {
      width: 80%;
      margin: 0 auto;
      text-align: center;
    }

    h1 {
      font-size: 2em;
      margin: 20px 0;
    }

    #search-query {
      padding: 10px;
      font-size: 1.2em;
      width: 50%;
      margin-bottom: 10px;
    }

    #search-btn {
      padding: 10px 20px;
      font-size: 1.2em;
      background-color: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }

    #search-btn:hover {
      background-color: #0056b3;
    }

    #video-results {
      margin-top: 20px;
    }

    .video-item {
      margin: 15px;
      display: inline-block;
      width: 300px;
      vertical-align: top;
    }

    .video-item img {
      width: 100%;
    }

    .video-item h3 {
      font-size: 1.2em;
      margin-top: 10px;
    }

    /* 响应式设计，适应不同屏幕大小 */
    @media (max-width: 768px) {
      #search-query {
        width: 80%;
      }

      .video-item {
        width: 90%;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <h1>YouTube 動画検索</h1>
  <div class="search-bar">
    <input type="text" id="search-query" placeholder="検索キーワードを入力してください...">
    <button id="search-btn">検索</button>
  </div>
  <div id="video-results"></div>
</div>

<script>
// 用您提供的 YouTube API 密钥替换
const apiKey = 'AIzaSyC_vDGk4fYm-pk8sk7ZylN9hMfOiePDgkI';

document.getElementById('search-btn').addEventListener('click', function() {
    const query = document.getElementById('search-query').value.trim();
    if (query) {
        searchYouTube(query);
    } else {
        alert('キーワードを入力してください！');
    }
});

function searchYouTube(query) {
    const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(query)}&type=video&key=${apiKey}`;

    fetch(url)
        .then(response => response.json())
        .then(data => {
            displayVideos(data.items);
        })
        .catch(error => {
            console.error('エラーが発生しました:', error);
            document.getElementById('video-results').innerHTML = '<p>検索中にエラーが発生しました。</p>';
        });
}

function displayVideos(videos) {
    const resultsContainer = document.getElementById('video-results');
    resultsContainer.innerHTML = '';  // 清空之前的結果

    if (videos.length === 0) {
        resultsContainer.innerHTML = '<p>該当する動画は見つかりませんでした。</p>';
    } else {
        videos.forEach(video => {
            const videoElement = document.createElement('div');
            videoElement.classList.add('video-item');
            videoElement.innerHTML = `
                <img src="${video.snippet.thumbnails.high.url}" alt="${video.snippet.title}">
                <h3><a href="https://www.youtube.com/watch?v=${video.id.videoId}" target="_blank">${video.snippet.title}</a></h3>
                <p>${video.snippet.description}</p>
            `;
            resultsContainer.appendChild(videoElement);
        });
    }
}
