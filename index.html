<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouTube Video Search</title>
</head>
<body>

  <h1>YouTube Video Search</h1>
  
  <!-- 搜索結果顯示區域 -->
  <div id="search-results"></div>

  <!-- 搜索表單 -->
  <form id="search-form">
    <input type="text" id="search-query" placeholder="Enter search query" />
    <button type="submit">Search</button>
  </form>

  <!-- 引入 axios 庫 -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <!-- 搜索功能的 JavaScript -->
  <script>
    // 替換為您的 YouTube API 金鑰
    const apiKey = 'AIzaSyD1K48pWIIm-PhauUSjLtOLHGVGEd5HhmI'; // 這裡填入您的 API 金鑰
    const channelId = 'UCShCwWq4HD5qYI5sN0tbaSg'; // 這是 Shairu.ch_0801 頻道的 ID

    // 當表單提交時執行搜尋
    document.getElementById('search-form').addEventListener('submit', function(event) {
      event.preventDefault(); // 防止表單重新加載頁面
      const query = document.getElementById('search-query').value; // 獲取用戶輸入的搜尋關鍵字

      // 使用 YouTube Data API 發送影片搜尋請求
      const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(query)}&channelId=${channelId}&type=video&key=${apiKey}`;

      axios.get(url)
        .then(response => {
          console.log('搜索結果:', response.data.items); // 輸出搜索結果
          let output = '';
          response.data.items.forEach(item => {
            output += `
              <div class="video-item">
                <h3>${item.snippet.title}</h3>
                <img src="${item.snippet.thumbnails.default.url}" alt="${item.snippet.title}" />
                <p>${item.snippet.description}</p>
                <a href="https://www.youtube.com/watch?v=${item.id.videoId}" target="_blank">觀看影片</a>
              </div>
            `;
          });
          document.getElementById('search-results').innerHTML = output;
        })
        .catch(error => {
          console.error('發生錯誤:', error); // 顯示錯誤訊息
        });
    });
  </script>

</body>
</html>
